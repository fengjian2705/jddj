{"remainingRequest":"D:\\study\\workspace\\vue3\\jingdong\\node_modules\\babel-loader\\lib\\index.js!D:\\study\\workspace\\vue3\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\study\\workspace\\vue3\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\study\\workspace\\vue3\\jingdong\\src\\views\\login\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\study\\workspace\\vue3\\jingdong\\src\\views\\login\\Login.vue","mtime":1638586077393},{"path":"D:\\study\\workspace\\vue3\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\study\\workspace\\vue3\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\study\\workspace\\vue3\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\study\\workspace\\vue3\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3N0dWR5L3dvcmtzcGFjZS92dWUzL2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IFRvYXN0LCB7IHVzZVRvYXN0RWZmZWN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Ub2FzdCc7Cgp2YXIgdXNlTG9naW5FZmZlY3QgPSBmdW5jdGlvbiB1c2VMb2dpbkVmZmVjdChzaG93VG9hc3QpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICB1c2VybmFtZTogJycsCiAgICBwYXNzd29yZDogJycKICB9KTsKCiAgdmFyIGhhbmRsZUxvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHBvc3QoJy9hcGkvdXNlci9sb2dpbicsIHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGRhdGEucGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDApIHsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5pc0xvZ2luID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ0hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfnmbvpmYblpLHotKUnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHNob3dUb2FzdCgn6K+35rGC5aSx6LSlJyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUxvZ2luKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGRhdGEpLAogICAgICB1c2VybmFtZSA9IF90b1JlZnMudXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkID0gX3RvUmVmcy5wYXNzd29yZDsKCiAgcmV0dXJuIHsKICAgIGhhbmRsZUxvZ2luOiBoYW5kbGVMb2dpbiwKICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgIHBhc3N3b3JkOiBwYXNzd29yZAogIH07Cn07Cgp2YXIgdXNlUmVnaXN0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VSZWdpc3RlckVmZmVjdCgpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogIHZhciBoYW5sZGVSZWdpc3RlckNsaWNrID0gZnVuY3Rpb24gaGFubGRlUmVnaXN0ZXJDbGljaygpIHsKICAgIHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ1JlZ2lzdGVyJwogICAgfSk7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGhhbmxkZVJlZ2lzdGVyQ2xpY2s6IGhhbmxkZVJlZ2lzdGVyQ2xpY2sKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgVG9hc3Q6IFRvYXN0CiAgfSwKICAvLyDku6PnoIHnmoTmiafooYzpgLvovpEKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZVRvYXN0RWZmZWN0ID0gdXNlVG9hc3RFZmZlY3QoKSwKICAgICAgICBzaG93ID0gX3VzZVRvYXN0RWZmZWN0LnNob3csCiAgICAgICAgbWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC5tZXNzYWdlLAogICAgICAgIHNob3dUb2FzdCA9IF91c2VUb2FzdEVmZmVjdC5zaG93VG9hc3Q7CgogICAgdmFyIF91c2VMb2dpbkVmZmVjdCA9IHVzZUxvZ2luRWZmZWN0KHNob3dUb2FzdCksCiAgICAgICAgdXNlcm5hbWUgPSBfdXNlTG9naW5FZmZlY3QudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfdXNlTG9naW5FZmZlY3QucGFzc3dvcmQsCiAgICAgICAgaGFuZGxlTG9naW4gPSBfdXNlTG9naW5FZmZlY3QuaGFuZGxlTG9naW47CgogICAgdmFyIF91c2VSZWdpc3RlckVmZmVjdCA9IHVzZVJlZ2lzdGVyRWZmZWN0KCksCiAgICAgICAgaGFubGRlUmVnaXN0ZXJDbGljayA9IF91c2VSZWdpc3RlckVmZmVjdC5oYW5sZGVSZWdpc3RlckNsaWNrOwoKICAgIHJldHVybiB7CiAgICAgIHNob3c6IHNob3csCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBoYW5kbGVMb2dpbjogaGFuZGxlTG9naW4sCiAgICAgIGhhbmxkZVJlZ2lzdGVyQ2xpY2s6IGhhbmxkZVJlZ2lzdGVyQ2xpY2sKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["D:\\study\\workspace\\vue3\\jingdong\\src\\views\\login\\Login.vue"],"names":[],"mappings":";;AA8BA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,IAAT,QAAqB,qBAArB;AACA,OAAO,KAAP,IAAgB,cAAhB,QAAsC,wBAAtC;;AAEA,IAAM,cAAa,GAAI,SAAjB,cAAiB,CAAC,SAAD,EAAe;AACpC,MAAM,MAAK,GAAI,SAAS,EAAxB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AAAE,IAAA,QAAQ,EAAE,EAAZ;AAAgB,IAAA,QAAQ,EAAE;AAA1B,GAAD,CAArB;;AACA,MAAM,WAAU;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEK,IAAI,CAAC,iBAAD,EAAoB;AAC3C,gBAAA,QAAQ,EAAE,IAAI,CAAC,QAD4B;AAE3C,gBAAA,QAAQ,EAAE,IAAI,CAAC;AAF4B,eAApB,CAFT;;AAAA;AAEV,cAAA,MAFU;;AAMhB,kBAAI,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAtB,EAAyB;AACvB,gBAAA,YAAY,CAAC,OAAb,GAAuB,IAAvB;AACA,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;AACF,eAHA,MAGO;AACL,gBAAA,SAAS,CAAC,MAAD,CAAT;AACF;;AAXgB;AAAA;;AAAA;AAAA;AAAA;AAahB,cAAA,SAAS,CAAC,MAAD,CAAT;;AAbgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AAgBA,gBAA+B,MAAM,CAAC,IAAD,CAArC;AAAA,MAAQ,QAAR,WAAQ,QAAR;AAAA,MAAkB,QAAlB,WAAkB,QAAlB;;AACA,SAAO;AAAE,IAAA,WAAW,EAAX,WAAF;AAAe,IAAA,QAAQ,EAAR,QAAf;AAAyB,IAAA,QAAO,EAAP;AAAzB,GAAP;AACF,CArBA;;AAsBA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,GAAM;AAC9B,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,mBAAkB,GAAI,SAAtB,mBAAsB,GAAM;AAChC,IAAA,MAAM,CAAC,IAAP,CAAY;AAAE,MAAA,IAAI,EAAE;AAAR,KAAZ;AACF,GAFA;;AAGA,SAAO;AAAE,IAAA,mBAAkB,EAAlB;AAAF,GAAP;AACF,CANA;;AAOA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,KAAI,EAAJ;AADU,GAFC;AAKb;AACA,EAAA,KANa,mBAMJ;AACP,0BAAqC,cAAc,EAAnD;AAAA,QAAQ,IAAR,mBAAQ,IAAR;AAAA,QAAc,OAAd,mBAAc,OAAd;AAAA,QAAuB,SAAvB,mBAAuB,SAAvB;;AACA,0BAA4C,cAAc,CAAC,SAAD,CAA1D;AAAA,QAAQ,QAAR,mBAAQ,QAAR;AAAA,QAAkB,QAAlB,mBAAkB,QAAlB;AAAA,QAA4B,WAA5B,mBAA4B,WAA5B;;AACA,6BAAgC,iBAAiB,EAAjD;AAAA,QAAQ,mBAAR,sBAAQ,mBAAR;;AACA,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,OAAO,EAAP,OAAR;AAAiB,MAAA,QAAQ,EAAR,QAAjB;AAA2B,MAAA,QAAQ,EAAR,QAA3B;AAAqC,MAAA,WAAW,EAAX,WAArC;AAAkD,MAAA,mBAAkB,EAAlB;AAAlD,KAAP;AACF;AAXa,CAAf","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <img\r\n      class=\"wrapper__img\"\r\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\r\n      alt=\"\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入手机号\"\r\n        v-model=\"username\"\r\n        autocomplete=\"false\"/>\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        type=\"password\"\r\n        v-model=\"password\"\r\n        autocomplete=\"false\"/>\r\n\r\n    </div>\r\n    <div class=\"wrapper__login-button\" @click=\"handleLogin\">登录</div>\r\n    <div class=\"wrapper__login-link\" @click=\"hanldeRegisterClick\">立即注册</div>\r\n    <Toast v-if=\"show\" :message=\"message\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\nconst useLoginEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({ username: '', password: '' })\r\n  const handleLogin = async () => {\r\n    try {\r\n      const result = await post('/api/user/login', {\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      if (result?.errno === 0) {\r\n        localStorage.isLogin = true\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        showToast('登陆失败')\r\n      }\r\n    } catch (error) {\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n  const { username, password } = toRefs(data)\r\n  return { handleLogin, username, password }\r\n}\r\nconst useRegisterEffect = () => {\r\n  const router = useRouter()\r\n  const hanldeRegisterClick = () => {\r\n    router.push({ name: 'Register' })\r\n  }\r\n  return { hanldeRegisterClick }\r\n}\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n    Toast\r\n  },\r\n  // 代码的执行逻辑\r\n  setup () {\r\n    const { show, message, showToast } = useToastEffect()\r\n    const { username, password, handleLogin } = useLoginEffect(showToast)\r\n    const { hanldeRegisterClick } = useRegisterEffect()\r\n    return { show, message, username, password, handleLogin, hanldeRegisterClick }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../styles/virables.scss\";\r\n\r\n.wrapper{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    &__img{\r\n        display: block;\r\n        width: .66rem;\r\n        height: .66rem;\r\n        margin: 0 auto .4rem;\r\n    }\r\n     &__input{\r\n        background:#f9f9f9;\r\n        height: .48rem;\r\n        margin: 0 .4rem .16rem .4rem;\r\n        padding: 0 .16rem;\r\n        border: 1px solid rgba(0,0,0,0.1);\r\n        border-radius: .06rem;\r\n        &__content{\r\n            line-height: .48rem;\r\n            padding: 0;\r\n            border: none;\r\n            outline: none;\r\n            background: none;\r\n            width: 100%;\r\n            font-size: .16rem;\r\n            color: $content-notice-font-color;\r\n            &::placeholder{\r\n                color: $content-notice-font-color;\r\n            }\r\n        }\r\n    }\r\n    &__login-button{\r\n        margin: .32rem .4rem .16rem .4rem;\r\n        line-height: .48rem;\r\n        font-size: .16rem;\r\n        text-align: center;\r\n        background:#0091ff ;\r\n        box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n        border-radius: .04rem;\r\n        color: #fff;\r\n    }\r\n\r\n    &__login-link{\r\n        font-size: .14rem;\r\n        color: $content-notice-font-color;\r\n        text-align: center;\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}